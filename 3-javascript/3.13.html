<!DOCTYPE html>
<html>
    <head>
        <title>Javascript - While</title>
    </head>

    <body>
        <p id="answer">Enter a Whole Number or Roman Number</p>

        <p>
            <label for="decimal"></label>
            <input
                type="number"
                id="decimal"
                name="decimal"
                min="1"
                max="3999999"
                value="1"
                autofocus
                autocomplete="off"
            />

            <label for="roman"></label>
            <input
                type="text"
                id="roman"
                name="roman"
                value="I"
                autocomplete="off"
            />
        </p>

        <p>
            <button id="decimalButton">to roman &rarr;</button>
            <button id="romanButton">&larr; to decimal</button>
        </p>

        <script type="module">
            import {
                int2roman,
                int2romanFast,
                roman2int,
                validateRoman,
            } from "./roman/roman.js";

            document.getElementById("decimalButton").onclick = function () {
                var decimal = document.getElementById("decimal").value;
                var r = int2roman(decimal);
                document.getElementById("answer").innerHTML = r;
                document.getElementById("roman").value = r;
            };
            document.getElementById("romanButton").onclick = function () {
                var roman = document.getElementById("roman").value;
                var val = validateRoman(roman);
                var d;
                if (val.length > 0) {
                    d = `Exception ${val} : Invalid roman "${roman}"`;
                } else {
                    d = roman2int(roman);
                }
                document.getElementById("answer").innerHTML = d;
                document.getElementById("decimal").value = d;
            };
        </script>
    </body>
</html>
