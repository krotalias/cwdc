<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: factorize-ui.mjs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: factorize-ui.mjs</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>#!/usr/bin/env node
/**
 * @file
 *
 * Summary.
 * &lt;p>Factorize UI main function for testing.&lt;/p>
 *
 * &lt;p>Calculates the {@link module:gcd.LCM Least Common Multiple} up to the current
 * MIN ≤ &lt;mark>value&lt;/mark> ≤ MAX and displays its prime factors.&lt;/p>
 *
 * Output:
 * &lt;pre>
 *
 *                   [Z] ← → [X]  FIX: [SPACE]
 * |-------------------------------------O---------------------------------------------------------------| 37 = &lt;b style="color:green;">53 bits&lt;/b>
 *   LCM(37) = 2⁵ × 3³ × 5² × 7 × 11 × 13 × 17 × 19 × 23 × 29 × 31 × 37
 * A value the user requested: 37
 * &lt;/pre>
 *
 * &lt;pre>
 * Usage:
 *  - npm init
 *  - npm install readline-sync
 *  - node factorize-ui.mjs
 * &lt;/pre>
 *
 * &lt;p>To use ES6 modules in nodejs (version ≥ 13):&lt;/p>
 * &lt;ol>
 *  &lt;li> file extension should be ".mjs" &lt;/li>
 *  &lt;li> Add {"type": "module",} to package.json (located in current or parent directory&lt;/li>
 *  &lt;li> should be used ES6 module syntax: import and export &lt;/li>
 * &lt;/ol>
 *
 * @author Paulo Roma
 * @since 30/12/2021
 * @see &lt;a href="/cwdc/3-javascript/bigint/factorize-ui.mjs">source&lt;/a>
 * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/console/time console: time() static method}
 * @see {@link https://dmitripavlutin.com/javascript-defined-variable-checking/ 3 Ways to Check if a Variable is Defined in JavaScript}
 * @see {@link https://gist.github.com/fnky/458719343aabd01cfb17a3a4f7296797 ANSI Escape Sequences}
 * @see {@link https://www.npmjs.com/package/readline-sync readline-sync}
 */

import * as readlineSync from "readline-sync";
import { factorization, bitLength } from "./factorize.js";
import { LCM } from "./gcd.js";

/**
 * Maximum integer value.
 * @type {Number}
 */
const MAX = 100;

/**
 * Minimum integer value.
 * @type {Number}
 */
const MIN = 1;

/**
 * Current value.
 * @type {Number}
 */
let value = 40;

/**
 * Key pressed on keyboard.
 * @type {String}
 */
let key;

/**
 * &lt;ul>
 *      {@link https://gist.github.com/fnky/458719343aabd01cfb17a3a4f7296797 ANSI Escape Sequences}
 * &lt;li>up: "Esc[#A" - moves cursor up # lines&lt;/li>
 * &lt;li>down: "ESC[#B"	- moves cursor down # lines&lt;/li>
 * &lt;li>erase: "Esc[K" - erase in line (same as ESC[0K)&lt;/li>
 * &lt;li>go: "ESC[#G"	- moves cursor to column #&lt;/li>
 * &lt;li>reset: "ESC[H" - moves cursor to home position (0, 0)&lt;/li>
 * &lt;li>blink: "ESC[5m" - set blinking mode&lt;/li>
 * &lt;li>unblink: "ESC[25m" - unset blinking mode&lt;/li>
 * &lt;li>red: "ESC[31m" - red&lt;/li>
 * &lt;li>green: "ESC[32m" - green&lt;/li>
 * &lt;li>blue: "ESC[34m" - blue&lt;/li>
 * &lt;/ul>
 * @type {String}
 */
const up = "\x1B[1A";
const erase = "\x1B[K";
const go = "\x1B[2G";
const reset = "\x1B[0m";
const red = "\x1B[1;31m";
const green = "\x1B[1;32m";
const blink = "\x1B[5m";
const unblink = "\x1B[25m";

console.log(`\n\n${new Array(20).join(" ")}[Z] ← → [X]  FIX: [SPACE]\n`);
while (true) {
  const factors = LCM(value);
  const bits = bitLength(factors);
  const color = factors > Number.MAX_SAFE_INTEGER ? red : green;
  const highlight = factors > Number.MAX_SAFE_INTEGER ? blink : unblink;

  console.log(
    `${up}${erase}${reset}|${new Array(value + 1).join("-")}O${new Array(
      MAX - value + 1,
    ).join("-")}| ${value} = ${color}${bits} bits`,
  );

  console.log(
    `${go}${erase}${reset} LCM(${highlight}${value}${reset}) = ${factorization(
      factors,
    )} ${up}`,
  );

  key = readlineSync.keyIn("", {
    hideEchoBack: true,
    mask: "",
    limit: "zx ",
  });
  if (key === "z") {
    if (value > MIN) {
      value--;
    }
  } else if (key === "x") {
    if (value &lt; MAX) {
      value++;
    }
  } else {
    break;
  }
}
console.log(`\n${reset}A value the user requested: ${value}`);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-gcd.html">gcd</a></li></ul><h3>Global</h3><ul><li><a href="global.html#MAX">MAX</a></li><li><a href="global.html#MIN">MIN</a></li><li><a href="global.html#key">key</a></li><li><a href="global.html#up">up</a></li><li><a href="global.html#value">value</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Tue Dec 31 2024 08:50:15 GMT-0300 (Brasilia Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
