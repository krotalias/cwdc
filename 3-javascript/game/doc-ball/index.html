<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    












<section>

<header>
    
        <h2>ball.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Draws an animated pinball table.

<p>Use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">requestAnimationFrame</a>
technique that we saw in <a href="https://eloquentjavascript.net/Eloquent_JavaScript.pdf#page=240">Chapter 14</a>
and <a href="https://eloquentjavascript.net/Eloquent_JavaScript.pdf#page=281">Chapter 16</a> to draw a box
with a bouncing ball in it.
The ball moves at a constant speed and bounces off the box’s sides when it hits them.</p>

<p>A box is easy to draw with strokeRect.
Define a binding that holds its size or define two bindings if your box’s width and height differ.
To create a round ball, start a path and call
<a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/arc">arc(x, y, radius, 0, 7)</a>,
which creates an arc going from zero to more than a whole circle. Then fill the path.</p>

<p>To model the ball’s position and speed, you can use the Vec class from
<a href="https://eloquentjavascript.net/Eloquent_JavaScript.pdf#page=267">Chapter 16</a>.
Give it a starting speed, preferably one that is not purely vertical or horizontal,
and for every frame multiply that speed by the amount of time that elapsed.
When the ball gets too close to a vertical wall, invert the x component in its speed.
Likewise, invert the y component when it hits a horizontal wall.</p>

To <a href="/cwdc/downloads/apostila.pdf#page=161">reflect</a>
the velocity vector against the wall normal vector:
<ul>
 <li>vertical wall <br>
 r = v - 2 &#60;v.n&#62; n = (vx,vy) - 2 &#60;(vx,vy),(1,0)&#62; (1,0) = (vx,vy) - (2vx,0) = (-vx,vy)</li>
 <li>horizontal wall <br>
 r = v - 2 &#60;v.n&#62; n = (vx,vy) - 2 &#60;(vx,vy),(0,1)&#62; (0,1) = (vx,vy) - (0,2vy) = (vx,-vy)</li>
</ul>

<p>After finding the ball’s new position and speed, use
<a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clearRect">clearRect</a>
to delete the scene and redraw it
using the new position.</p></div>
        

        


<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>11/08/2021</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Paulo Roma</li>
        </ul>
    </dd>
    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ball.js.html">ball.js</a>, <a href="ball.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="/cwdc/3-javascript/game/ball.html">Pinball</a></li>
        
            <li><a href="/cwdc/3-javascript/game/ball.js">source</a></li>
        
            <li><a href="https://eloquentjavascript.net/17_canvas.html">Drawing on Canvas</a></li>
        
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage">CanvasRenderingContext2D: drawImage() method</a></li>
        
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas">Optimizing canvas</a></li>
        
            <li><a href="https://www.freecodecamp.org/news/how-to-understand-css-position-absolute-once-and-for-all-b71ca10cd3fd/">How to understand CSS Position Absolute once and for all</a></li>
        
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/position">position</a></li>
        
            <li><img src="../img/pinball.png">.</li>
        </ul>
    </dd>
    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Events</h3><ul><li><a href="global.html#event:keydown">keydown</a></li><li><a href="global.html#event:load">load</a></li><li><a href="global.html#event:onpointerdown">onpointerdown</a></li></ul><h3>Global</h3><ul><li><a href="global.html#canvas">canvas</a></li><li><a href="global.html#clamp">clamp</a></li><li><a href="global.html#random">random</a></li><li><a href="global.html#runAnimation">runAnimation</a></li><li><a href="global.html#speedX">speedX</a></li><li><a href="global.html#speedY">speedY</a></li><li><a href="global.html#spring">spring</a></li><li><a href="global.html#timer">timer</a></li><li><a href="global.html#updateAnimation">updateAnimation</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Wed Feb 19 2025 06:30:16 GMT-0300 (Brasilia Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>