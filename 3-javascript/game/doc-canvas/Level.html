<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Level</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Level</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Level<span class="signature">(plan)</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>Stores a level object. Its argument should be the string that defines the level.</p>
So rows holds an array of arrays of characters, the rows of the plan.
We can derive the level’s width and height from these.
But we must still separate the moving elements from the background grid.
We’ll call moving elements actors. They’ll be stored in an array of objects.
The background will be an array of arrays of strings, holding field types such as "empty", "wall", or "lava".

<p> <a href="global.html#levelChars">levelChars</a> </p>
{
<ul style="list-style-type:none">
  <li> ".": "empty", </li>
  <li> "#": "wall", </li>
  <li> "+": "lava", </li>
  <li> "@": Player, </li>
  <li> "o": Coin, </li>
  <li> "=": Lava, </li>
  <li> "|": Lava, </li>
  <li> "v": Lava </li>
</ul>
};

<p> Going from an array of strings to an object: </p>

<pre>
  <a href="global.html#simpleLevelPlan">simpleLevelPlan</a> [6]
   . . . . . . # + + + + + + + + + + + + # . . <br>
                      ⬇

  <a href="Level.html#rows">Background Matrix</a> - Line 6: Array (22)
  [
   "empty", "empty", "empty", "empty", "empty", "empty",
   "wall",  "lava",  "lava",  "lava",  "lava",  "lava",  "lava",
   "lava",  "lava",  "lava",  "lava",  "lava",  "lava",  "wall",
   "empty", "empty"
  ]
</pre>

<pre>
  <a href="Level.html#startActors">startActors</a>
  [
</pre>
   <ul style="list-style-type:none">
      <li> Lava {pos: Vec, speed: Vec, reset: undefined, size: Vec} </li>
      <li> Coin {pos: Vec, basePos: Vec, wobble: 5.677305209062806, size: Vec} </li>
      <li> Coin {pos: Vec, basePos: Vec, wobble: 1.7039202103083562, size: Vec} </li>
      <li> Player {pos: Vec, speed: Vec, size: Vec} </li>
   </ul>
<pre>
  ]
</pre>

<p>An example with nodejs (note the usage of the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax">spread</a> operator):</p>

<pre>
  roma: ~$ node
  Welcome to Node.js v16.6.1.
  Type ".help" for more information.
  > s=["abcd","efgh"]
  [ 'abcd', 'efgh' ]
  > rows = s.map(l=>[...l])
  [ [ 'a', 'b', 'c', 'd' ], [ 'e', 'f', 'g', 'h' ] ]
  > s
  [ 'abcd', 'efgh' ]
  >
</pre></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Level"><span class="type-signature"></span>new Level<span class="signature">(plan)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>plan</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">level geometry.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="chapter_16_game.js.html">chapter/16_game.js</a>, <a href="chapter_16_game.js.html#line129">line 129</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/trim">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/trim</a></li>
        
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split</a></li>
        
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax</a></li>
        
            <li><a href="https://dev.to/sagar/three-dots---in-javascript-26ci">https://dev.to/sagar/three-dots---in-javascript-26ci</a></li>
        </ul>
    </dd>
    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="height"><span class="type-signature"></span>height<span class="type-signature"> :Number</span></h4>




<div class="description">
    Matrix height.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="chapter_16_game.js.html">chapter/16_game.js</a>, <a href="chapter_16_game.js.html#line143">line 143</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="rows"><span class="type-signature"></span>rows<span class="type-signature"> :Array.&lt;Array.&lt;String>></span></h4>




<div class="description">
    Background matrix.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;Array.&lt;String>></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="chapter_16_game.js.html">chapter/16_game.js</a>, <a href="chapter_16_game.js.html#line159">line 159</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="startActors"><span class="type-signature"></span>startActors<span class="type-signature"> :Array.&lt;(<a href="Player.html">Player</a>|<a href="Coin.html">Coin</a>|<a href="Lava.html">Lava</a>)></span></h4>




<div class="description">
    Array of actors (moving elements).
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;(<a href="Player.html">Player</a>|<a href="Coin.html">Coin</a>|<a href="Lava.html">Lava</a>)></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="chapter_16_game.js.html">chapter/16_game.js</a>, <a href="chapter_16_game.js.html#line153">line 153</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="width"><span class="type-signature"></span>width<span class="type-signature"> :Number</span></h4>




<div class="description">
    Matrix width.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="chapter_16_game.js.html">chapter/16_game.js</a>, <a href="chapter_16_game.js.html#line148">line 148</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="touches"><span class="type-signature"></span>touches<span class="signature">(pos, size, type)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    This method tells us whether a rectangle (specified by a position and a size)
touches a grid element of the given type.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>pos</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Vec.html">Vec</a></span>


            
            </td>

            

            

            <td class="description last">rectangle position.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Vec.html">Vec</a></span>


            
            </td>

            

            

            <td class="description last">rectangle size.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">grid element type.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="chapter_16_game.js.html">chapter/16_game.js</a>, <a href="chapter_16_game.js.html#line557">line 557</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    whether the element intersects the given rectangle.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CanvasDisplay.html">CanvasDisplay</a></li><li><a href="Coin.html">Coin</a></li><li><a href="DOMDisplay.html">DOMDisplay</a></li><li><a href="Lava.html">Lava</a></li><li><a href="Level.html">Level</a></li><li><a href="Player.html">Player</a></li><li><a href="State.html">State</a></li><li><a href="Vec.html">Vec</a></li></ul><h3>Global</h3><ul><li><a href="global.html#GAME_LEVELS">GAME_LEVELS</a></li><li><a href="global.html#arrowKeys">arrowKeys</a></li><li><a href="global.html#drawActors">drawActors</a></li><li><a href="global.html#drawGrid">drawGrid</a></li><li><a href="global.html#elt">elt</a></li><li><a href="global.html#flipHorizontally">flipHorizontally</a></li><li><a href="global.html#gravity">gravity</a></li><li><a href="global.html#jumpSpeed">jumpSpeed</a></li><li><a href="global.html#levelChars">levelChars</a></li><li><a href="global.html#overlap">overlap</a></li><li><a href="global.html#playerXSpeed">playerXSpeed</a></li><li><a href="global.html#results">results</a></li><li><a href="global.html#runAnimation">runAnimation</a></li><li><a href="global.html#runGame">runGame</a></li><li><a href="global.html#runLevel">runLevel</a></li><li><a href="global.html#scale">scale</a></li><li><a href="global.html#simpleLevel">simpleLevel</a></li><li><a href="global.html#simpleLevelPlan">simpleLevelPlan</a></li><li><a href="global.html#sprites">sprites</a></li><li><a href="global.html#trackKeys">trackKeys</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sun Sep 08 2024 10:36:18 GMT-0300 (Brasilia Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>