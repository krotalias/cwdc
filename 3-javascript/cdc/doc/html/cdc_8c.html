<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>C++: cdc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="C++"/>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="lcg.png"/></td>
  <td id="projectalign">
   <div id="projectname">C++<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,true,'search.html','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">cdc.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Desconto Racional por Dentro.  
<a href="#details">More...</a></p>

<p><a href="cdc_8c_source.html">Go to the source code of this file.</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Desconto Racional por Dentro. </p>
<p>A fórmula para atualizar o preço no instante da compra, levando em conta a remuneração aplicada a cada prestação, \(R = \frac{x}{p}\), é:  </p><p class="formulaDsp">
\[x_{atualizado} = A = \frac{x}{p} \frac{(1+t)^{p}-1}{t(1+t)^{(p-1)}} = x
\times \frac{(1+t)}{(p*CF)},\ CF = \frac{t}{1-(1+t)^{-p}}.\]
</p>
<p>O preço atualizado, \(A\), voltando cada parcela, \(R\), para o tempo inicial, é a soma de uma P.G. de razão q = \(\frac {1}{(1+t)}\) e cujo primeiro termo é q:</p>
<p class="formulaDsp">
\begin{eqnarray*}
       A &amp;=&amp; R[(1+t)^{-1}+(1+t)^{-2}+...+(1+t)^{-n}] \\
       A &amp;=&amp; R q\frac{(1-q^{n})}{1-q},
 \end{eqnarray*}
</p>
<p class="formulaDsp">
\begin{eqnarray*}
       A &amp;=&amp; R q\frac{(1 - \frac{1}{(1+t)^{n}})} {(1-\frac{1}{(1+t)})} \\ &amp;=&amp;
R q\frac{((1+t)^{n} - 1)}{(1+t)^{n}} \frac{(1+t)}{t} \\
       A &amp;=&amp; R \frac{(1+t)^{n} - 1} {t(1+t)^{n}}                       \\ &amp;=&amp;
R \frac {(1-(1+t)^{-n})}{t} \Rightarrow \\
       R &amp;=&amp; A \frac {t} {(1-(1+t)^{-n})}                              \\ &amp;=&amp;
A \times CF \\ A &amp;=&amp; R \frac {1}{CF}
 \end{eqnarray*}
</p>
<p> onde \(R = \frac{x}{p}\) é o valor de cada parcela.</p>
<p>Como, neste exercício, a primeira parcela é paga no ato da compra, na realidade, \(n = p-1\) e deve-se somar \(R = \frac{x}{p}\) (a entrada):</p>
<p class="formulaDsp">
\[A = R (1 + \frac{q(1-q^{(p-1)})}{(1-q)}).\]
</p>
<p>Fazendo-se as substituições necessárias, chega-se a fórmula usada no programa:  </p><p class="formulaDsp">
\begin{eqnarray*}
     q\frac{(1 - \frac{1}{(1+t)^{(p-1)}})} {(1-\frac{1}{(1+t)})} &amp;=&amp;
q\frac{((1+t)^{(p-1)} - 1)}{(1+t)^{(p-1)}} \frac{(1+t)}{t} \\
 \frac{1}{(1+t)}((1+t)^{(p-1)} - 1) \frac{(1+t)}{t(1+t)^{(p-1)}} &amp;=&amp;
\frac{(1+t)^{(p-1)} - 1} {t(1+t)^{(p-1)}} \Rightarrow (somando\ 1) \\
                     1+\frac{(1+t)^{(p-1)} - 1} {t(1+t)^{(p-1)}} &amp;=&amp;
\frac{t(1+t)^{(p-1)} + (1+t)^{(p-1)} - 1}{t(1+t)^{(p-1)}} \\
                  \frac{(t+1)(1+t)^{(p-1)} - 1} {t(1+t)^{(p-1)}} &amp;=&amp;
\frac{(1+t)^{p} - 1}{t(1+t)^{(p-1)}} = \frac{(1+t)-(1+t)^{-(p-1)}}{t}
\Rightarrow (recolocando\ R) \\ R (1+t) \frac {(1-(1+t)^{-p})}{t} &amp;=&amp; R \frac
{(1+t)}{CF}
 \end{eqnarray*}
</p>
<p>Nota: Achar a taxa "t" que produz o preço à vista "y" requer o método de Newton:  </p><p class="formulaDsp">
\begin{eqnarray*}
    x_{n+1} &amp;=&amp; x_n - \frac{f(x_n)}{f&#39;(x_n)}   \\
      y     &amp;=&amp; \frac{x}{p} \frac{(1-a)}{t} (1+t), \\
      f(t)  &amp;=&amp; yt - \frac{x}{p} (1-a)(1+t)    \\
      f&#39;(t) &amp;=&amp; y - \frac{x}{p} (1-a(1-p))
    \end{eqnarray*}
</p>
<p> onde \(a = (1+t)^{-p}\) e o problema é equivalente a encontrar um zero da função f </p><p class="formulaDsp">
\[t_{n+1} = t_n - \frac{f(t)}{f&#39;(t)}, t_o = \frac{x}{y}\]
</p>
<p>A função é decrescente e converge para t quando n&rarr;&infin;.</p>
<p>Para o caso de não haver entrada:  </p><p class="formulaDsp">
\begin{eqnarray*}
    x_{n+1} &amp;=&amp; x_n - \frac{f(x_n)}{f&#39;(x_n)} \\
      y     &amp;=&amp; \frac{x}{p} \frac{(1-a)}{t}, \\
      f(t)  &amp;=&amp; yt - \frac{x}{p} (1-a)       \\
      f&#39;(t) &amp;=&amp; y - x b
    \end{eqnarray*}
</p>
<p> onde \(a = (1+t)^{-p}, b = \frac{a}{1+t}\)</p>
<dl class="section author"><dt>Author</dt><dd>Paulo Roma </dd></dl>
<dl class="section since"><dt>Since</dt><dd>24/10/2023 </dd></dl>

<p class="definition">Definition in file <a class="el" href="cdc_8c_source.html">cdc.c</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
